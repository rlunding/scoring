{% extends "layouts/_base.html" %}

{% block page_title %}Table X | Score {% endblock %}

{% block css %}
    {{ super() }}
{% endblock %}

{% block body %}
    <section>
        <div class="container header-section">
            <div class="row">
                <div class="col-sm-12">
                    <h1>{{ _('Score') }}</h1>
                    <p>Scores for table TODO</p>
                </div>
            </div>
            <hr>
            <div class="row">
                {% if scores | length == 0 %}
                    <p>No scores at this table</p>
                {% else %}
                    <table class="table">
                        <thead><tr>
                            <th class="col-header">{{ _('Start') }}</th>
                            <th class="col-header">{{ _('Team 1') }}</th>
                            <th class="col-header">{{ _('Score') }}</th>
                            {% if scores[0].team_2 %}
                                <th class="col-header">{{ _('Team 2') }}</th>
                                <th class="col-header">{{ _('Score') }}</th>
                                {% set two_teams = True %}
                            {% else %}
                                {% set two_teams = False %}
                            {% endif %}
                        </tr></thead>
                        <tbody>
                            {% for score in scores %}
                                <tr {% if score.start_date > current_time_offset %} class="bg-success"{% else %} class=""{% endif %}>
                                    <td><time class="from-now" data-datetime="{{ score.start_date }}">{{ score.start_date }}</time></td>
                                    <td><a href="{{ url_for('spectator.team', team_id=score.team_1_id) }}">{{ score.team_1.name }}</a></td>
                                    <td>{{ score.score_1 }}</td>
                                    {% if two_teams %}
                                        <td><a href="{{ url_for('spectator.team', team_id=score.team_2_id) }}">{{ score.team_2.name }}</a></td>
                                        <td>{{ score.score_2 }}</td>
                                    {% endif %}
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                {% endif %}
            </div>
        </div>
    </section>
{% endblock %}

{% block js %}
    {{ super() }}
{% endblock %}